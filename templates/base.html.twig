<!DOCTYPE html>
<html lang="{{ app.request.locale }}">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/jpg" href="{{ asset('images/favicon.ico') }}" />
        <title>{% block title %}Umami{% endblock %}</title>

        {# data-route : Initialize the variable, defaulting to null if not set #}
        {% set pageRoute = pageRoute ?? null %}

        <!-- Include bootstrap via CDN -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

        <!-- Include jQuery via CDN -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
            {# Style Entrypoint and the directry confirmed in webpack.config.js #}
            <link rel="stylesheet" href="{{ asset('build/base-styles.css') }}">
            <link rel="stylesheet" href="{{ asset('build/header-styles.css') }}">
            <link rel="stylesheet" href="{{ asset('build/footer-styles.css') }}">
            <link rel="stylesheet" href="{{ asset('build/home-styles.css') }}">
            <link rel="stylesheet" href="{{ asset('build/about-us.css') }}">
            <link rel="stylesheet" href="{{ asset('build/notifications-styles.css') }}">
            <link rel="stylesheet" href="{{ asset('build/card-styles.css') }}">
            <link rel="stylesheet" href="{{ asset('build/form-styles.css') }}">
            <link rel="stylesheet" href="{{ asset('build/button-styles.css') }}">
            <link rel="stylesheet" href="{{ asset('build/show-recipe-styles.css') }}">
            <link rel="stylesheet" href="{{ asset('build/recipe-form-styles.css') }}">
            <link rel="stylesheet" href="{{ asset('build/recipes-dashboard-styles.css') }}">
            <link rel="stylesheet" href="{{ asset('build/cuisines-dashboard-styles.css') }}">
            <link rel="stylesheet" href="{{ asset('build/user-profile.css') }}">
            <link rel="stylesheet" href="{{ asset('build/recipes-filters.css') }}">
            <link rel="stylesheet" href="{{ asset('build/legal-pages.css') }}">
            <link rel="stylesheet" href="{{ asset('build/contact-form.css') }}">
            <link rel="stylesheet" href="{{ asset('build/delete-confirmations.css') }}">
            <link rel="stylesheet" href="{{ asset('fonts/fontawesome-free-6.4.2-web/css/all.css') }}" title="Font Awesome Icons">
        {% endblock %}

        {% block javascripts %}
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
            <script src="{{ asset('js/base-functions.js') }}"></script>
            {{ encore_entry_script_tags('app') }}
        {% endblock %}
    </head>
    {#  Use pageRoute to defined each page design path  #}
    <body data-route="{{ pageRoute }}">
        {% include 'header.html.twig' %}
        <main id="mainContent">
            {# Flash messages for success/error/warning  #}
            {% for flash in app.flashes('success') %}
                <div class="alert-success-message alert-flash">{{ flash }}</div>
            {% endfor %}
            {% for flash in app.flashes('error') %}
                <div class="alert-danger-message alert-flash">{{ flash }}</div>
            {% endfor %}
            {% for flash in app.flashes('warning') %}
                <div class="alert-warning-message alert-flash">{{ flash }}</div>
            {% endfor %}
            {# Flash messages for email verification error  #}
            {% for flash_error in app.flashes('verify_email_error') %}
                <div class="alert-danger-message alert-flash" role="alert">{{ flash_error }}</div>
            {% endfor %}

            <div id="flash-message-container">
                {% for flashMessage in app.flashes('success') %}
                    <div class="alert-success-message alert-flash">{{ flashMessage }}</div>
                {% endfor %}
            </div>

            {% block body %}
            {% endblock %}
        </main>
        {% include 'footer.html.twig' %}
    </body>
</html>
